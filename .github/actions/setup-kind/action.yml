name: Setup Kind
description: Deploy Kind
runs:
  using: composite
  steps:
  - uses: actions/checkout@v4
  - name: Install Kind
    shell: bash
    run: |
      [ $(uname -m) = x86_64 ] && curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.23.0/kind-linux-amd64
      chmod +x ./kind
      sudo mv ./kind /usr/local/bin/kind
  - name: Create kind cluster
    shell: bash
    run: |
      ./.github/scripts/kind-with-registry.sh
