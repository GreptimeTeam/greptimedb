   Compiling common-version v0.8.2 (/home/discord9/greptimedb/src/common/version)
   Compiling catalog v0.8.2 (/home/discord9/greptimedb/src/catalog)
   Compiling common-function v0.8.2 (/home/discord9/greptimedb/src/common/function)
   Compiling servers v0.8.2 (/home/discord9/greptimedb/src/servers)
   Compiling query v0.8.2 (/home/discord9/greptimedb/src/query)
   Compiling cache v0.8.2 (/home/discord9/greptimedb/src/cache)
   Compiling client v0.8.2 (/home/discord9/greptimedb/src/client)
   Compiling operator v0.8.2 (/home/discord9/greptimedb/src/operator)
   Compiling pipeline v0.8.2 (/home/discord9/greptimedb/src/pipeline)
   Compiling flow v0.8.2 (/home/discord9/greptimedb/src/flow)
warning: unused variable: `idx`
   --> src/flow/src/transform/aggr.rs:338:18
    |
338 |             for (idx, expr) in group_exprs.iter().enumerate() {
    |                  ^^^ help: if this is intentional, prefix it with an underscore: `_idx`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `engine`
   --> src/flow/src/transform.rs:149:42
    |
149 | pub fn register_function_to_query_engine(engine: &Arc<dyn QueryEngine>) {
    |                                          ^^^^^^ help: if this is intentional, prefix it with an underscore: `_engine`

warning: `flow` (lib) generated 2 warnings
warning: `flow` (lib test) generated 2 warnings (2 duplicates)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 28.25s
     Running unittests src/lib.rs (target/debug/deps/flow-42b3e41d9e2a76b2)

running 57 tests
test adapter::parse_expr::test_parse_fixed ... ok
test adapter::parse_expr::test_parse_duration ... ok
test adapter::worker::test::drop_handle ... ok
test compute::render::map::test::test_render_mfp ... ok
test compute::render::reduce::test::test_basic_distinct ... ok
test compute::render::map::test::test_render_mfp_multiple_times ... ok
test compute::render::test::example_source_sink ... ok
test compute::render::test::test_render_constant ... ok
test expr::func::test_get_window_start ... ok
test expr::func::test_num_ops ... ok
test compute::render::test::test_tee_auto_schedule ... ok
test adapter::worker::test::test_simple_get_with_worker_and_handle ... ok
test compute::render::reduce::test::test_basic_reduce_accum ... ok
test compute::render::reduce::test::test_delete_reduce_distinct_accum ... ok
test compute::render::reduce::test::test_composite_reduce_distinct_accum ... ok
test compute::render::reduce::test::test_basic_reduce_distinct_accum ... ok
test expr::linear::test::test_mfp_out_of_order ... ok
test expr::linear::test::manipulation_mfp ... ok
test expr::linear::test::test_mfp_chore ... ok
test expr::linear::test::test_mfp_with_time ... ok
test expr::func::test_binary_func_spec ... ok
test expr::scalar::test::test_extract_bound ... ok
test repr::test::test_row ... ok
test expr::relation::accum::test::test_accum ... ok
test compute::render::map::test::test_render_mfp_with_temporal ... ok
test expr::scalar::test::test_bad_permute ... ok
test expr::linear::test::test_mfp ... ok
test expr::linear::test::test_permute ... ok
test expr::relation::accum::test::test_fail_path_accum ... ok
test repr::test::test_cast_to_internal_ts ... ok
test expr::linear::test::mfp_test_cast_and_filter ... ok
test compute::render::reduce::test::test_avg_eval ... ok
test utils::test::only_save_future_updates ... ok
test utils::test::test_full_arrangement_get_from_first_entry ... ok
test utils::test::test_apply_expired_keys ... ok
test utils::test::test_future_get ... ok
test utils::test::test_get_unaligned ... ok
test utils::test::test_get_by_range ... ok
test utils::test::test_out_of_order_apply_updates ... ok
test utils::test::test_split_off ... ok
test utils::test::test_reduce_expire_keys ... ok
test transform::expr::test::test_func_sig ... ok
test expr::scalar::test::test_df_scalar_function ... ok
test transform::literal::test::test_literal ... ok
test transform::expr::test::test_select_add ... ok
test transform::plan::test::test_select ... ok
test transform::aggr::test::test_sum ... ok
test transform::aggr::test::test_sum_add ... ok
test transform::expr::test::test_binary_func_and_constant_folding ... ok
test transform::expr::test::test_implicitly_cast ... ok
test transform::aggr::test::test_avg ... ok
test transform::aggr::test::test_df_func_expr_tree ... FAILED
test transform::aggr::test::test_df_func_basic ... FAILED
test transform::expr::test::test_cast ... ok
test transform::expr::test::test_where_and ... ok
test transform::aggr::test::test_sum_group_by ... ok
test transform::aggr::test::test_avg_group_by ... ok

failures:

---- transform::aggr::test::test_df_func_expr_tree stdout ----
thread 'transform::aggr::test::test_df_func_expr_tree' panicked at src/flow/src/transform/aggr.rs:622:34:
called `Result::unwrap()` on an `Err` value: 0: Invalid query: column index 3 out of range, expected at most 3 columns, at src/flow/src/expr/linear.rs:159:18

---- transform::aggr::test::test_df_func_basic stdout ----
thread 'transform::aggr::test::test_df_func_basic' panicked at src/flow/src/transform/aggr.rs:500:34:
called `Result::unwrap()` on an `Err` value: 0: Invalid query: column index 3 out of range, expected at most 3 columns, at src/flow/src/expr/linear.rs:159:18
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    transform::aggr::test::test_df_func_basic
    transform::aggr::test::test_df_func_expr_tree

test result: FAILED. 55 passed; 2 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.05s

error: test failed, to rerun pass `-p flow --lib`
